var t,e,s,i=Object.defineProperty,o=(t,e,s)=>(((t,e,s)=>{e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s),n=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)},r=(t,e,s)=>(n(t,e,"read from private field"),s?s.call(t):e.get(t)),a=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},l=(t,e,s,i)=>(n(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s);import{p as c}from"./phaser-C2_wa_Fb.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const h="chess-pieces",u="pixel-chess-sprites.png",d="chessboard-tiles",p="pixel-chess-tiles.png",m="particle",f="particle.png",g="explosion",v="explosion.wav",b="retry",P="retry.png";var x=(t=>(t.KING="K",t.QUEEN="Q",t.BISHOP="B",t.KNIGHT="N",t.ROOK="R",t.PAWN="P",t))(x||{});class M{constructor(e){a(this,t,void 0),l(this,t,e)}get state(){return r(this,t).map((t=>t.slice()))}at([e,s]){var i,o;return null==(o=null==(i=r(this,t))?void 0:i[e])?void 0:o[s]}colorAt([t,e]){const s=this.at([t,e]);return s?s.toUpperCase()==s?0:1:null}emptyAt(t){return this.has(t)&&!this.at(t)}has([t,e]){return 0<=t&&t<8&&0<=e&&e<8}indexOfKing(e){const s="Kk"[e];for(let i=0;i<8;i++)for(let e=0;e<8;e++)if(r(this,t)[i][e]==s)return[i,e];return null}isAdjacent(t,e){if(!this.has(t)||!this.has(e))return!1;const[s,i]=t,[o,n]=e;return Math.abs(s-o)<=1&&Math.abs(i-n)<=1}typeAt([e,s]){var i,o,n;return null==(n=null==(o=null==(i=r(this,t))?void 0:i[e])?void 0:o[s])?void 0:n.toUpperCase()}setAt([e,s],i){r(this,t)[e][s]=i}capture(t,e){this.explode(e),this.explode(t),this.explodeArea(e)}castleKingside(t){const e=[7,0][t];this.move([e,4],[e,6]),this.move([e,7],[e,5])}castleQueenside(t){const e=[7,0][t];this.move([e,4],[e,2]),this.move([e,0],[e,3])}enPassant(t,e){const s=t[0],i=e[1];this.explode([s,i]),this.explode(t),this.explodeArea(e)}move(t,e){this.setAt(e,this.at(t)),this.setAt(t,null)}explode(t){this.setAt(t,null)}explodeArea([t,e]){for(let s=-1;s<=1;s++)for(let i=-1;i<=1;i++){const o=[t+s,e+i];this.has(o)&&!this.emptyAt(o)&&this.typeAt(o)!=x.PAWN&&this.explode(o)}}}t=new WeakMap;class k{constructor(t,e,s,i,n){o(this,"color"),o(this,"moveDirs"),o(this,"captureDirs"),o(this,"maxMoveSteps"),o(this,"type"),this.type=t,this.color=e,this.moveDirs=s,this.captureDirs=i,this.maxMoveSteps=n}getPossibleCapturesFrom(t,e){const s=N(this.color),{position:i}=t;if(i.colorAt(e)!=this.color)return[];const o=[],[n,r]=e;for(let[a,l]of this.captureDirs)for(let t=1;t<=this.maxMoveSteps;t++){const e=[n+t*a,r+t*l];if(!i.has(e))break;if(!i.emptyAt(e)){if(i.colorAt(e)!=s)break;o.push(e);break}}return o}getPossibleStandardMovesFrom(t,e){const{position:s,activeColor:i}=t;if(s.colorAt(e)!=i)return[];const o=[],[n,r]=e;for(let[a,l]of this.moveDirs)for(let t=1;t<=this.maxMoveSteps;t++){const e=[n+t*a,r+t*l];if(!s.emptyAt(e))break;o.push(e)}return o}getValidCapturesFrom(t,e){const s=this.getPossibleCapturesFrom(t,e),{position:i}=t;return s.filter((t=>{const s=new M(i.state);return s.capture(e,t),s.indexOfKing(this.color)&&!R(s,this.color)}))}getValidStandardMovesFrom(t,e){const s=this.getPossibleStandardMovesFrom(t,e),{position:i}=t;return s.filter((t=>{const s=new M(i.state);return s.move(e,t),!R(s,this.color)}))}getValidMovesFrom(t,e){return[...this.getValidCapturesFrom(t,e),...this.getValidStandardMovesFrom(t,e)]}}class y extends k{constructor(t){const e=[[1,1],[-1,1],[-1,-1],[1,-1]];super(x.BISHOP,t,e,e,7)}}class w extends k{constructor(t){super(x.KING,t,[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]],[],1)}get backRank(){return[7,0][this.color]}get startingPos(){return[this.backRank,4]}getValidKingsideCastlesFrom(t,e){const{position:s}=t;if(!t.canCastle[this.color].kingside||!W(e,this.startingPos)||R(s,this.color))return[];if(![[this.backRank,5],[this.backRank,6]].every((t=>s.emptyAt(t))))return[];const i=new M(s.state);return i.castleKingside(this.color),R(i,this.color)?[]:[[this.backRank,6]]}getValidQueensideCastleFrom(t,e){const{position:s}=t;if(!t.canCastle[this.color].queenside||!W(e,this.startingPos)||R(s,this.color))return[];if(![[this.backRank,1],[this.backRank,2],[this.backRank,3]].every((t=>s.emptyAt(t))))return[];const i=new M(s.state);return i.castleQueenside(this.color),R(i,this.color)?[]:[[this.backRank,2]]}getValidMovesFrom(t,e){return[...this.getValidKingsideCastlesFrom(t,e),...this.getValidQueensideCastleFrom(t,e),...this.getValidStandardMovesFrom(t,e)]}}class T extends k{constructor(t){const e=[[1,2],[2,1],[2,-1],[1,-2],[-1,-2],[-2,-1],[-2,1],[-1,2]];super(x.KNIGHT,t,e,e,1)}}class A extends k{constructor(t){const e=[-1,1][t],s=[[e,0]],i=[[e,-1],[e,1]];super(x.PAWN,t,s,i,1)}get startingRank(){return[6,1][this.color]}get moveDir(){return this.moveDirs[0][0]}getPossibleDoubleMovesFrom(t,e){const{position:s}=t,[i,o]=e,n=[i+2*this.moveDir,o];return this.getPossibleStandardMovesFrom(t,e).length&&i==this.startingRank&&s.emptyAt(n)?[n]:[]}getPossibleEnPassantFrom(t,e){const[s,i]=e;return this.captureDirs.map((([t,e])=>[s+t,i+e])).filter((e=>t.enPassants.some((t=>W(e,t)))))}getValidDoubleMovesFrom(t,e){const{position:s}=t;return this.getPossibleDoubleMovesFrom(t,e).filter((t=>{const i=new M(s.state);return i.move(e,t),!R(i,this.color)}))}getValidEnPassantsFrom(t,e){const{position:s}=t;return this.getPossibleEnPassantFrom(t,e).filter((t=>{const i=new M(s.state);return i.enPassant(e,t),i.indexOfKing(this.color)&&!R(i,this.color)}))}getValidMovesFrom(t,e){return[...this.getValidCapturesFrom(t,e),...this.getValidDoubleMovesFrom(t,e),...this.getValidEnPassantsFrom(t,e),...this.getValidStandardMovesFrom(t,e)]}}class S extends k{constructor(t){const e=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];super(x.QUEEN,t,e,e,7)}}class C extends k{constructor(t){const e=[[1,0],[0,1],[-1,0],[0,-1]];super(x.ROOK,t,e,e,7)}}const F={K:new w(0),Q:new S(0),B:new y(0),N:new T(0),R:new C(0),P:new A(0),k:new w(1),q:new S(1),b:new y(1),n:new T(1),r:new C(1),p:new A(1)};function O(t,e){const{position:s,activeColor:i}=t;return s.colorAt(e)==i}function V(t,e){const s=t.position.at(e);return s?F[s]:null}function K(t,e){var s;return O(t,e)?(null==(s=V(t,e))?void 0:s.getValidMovesFrom(t,e))??[]:[]}function R(t,e){const s=N(e),i=t.indexOfKing(e),o=t.indexOfKing(s);if(!i||!o)return!1;if(t.isAdjacent(i,o))return!1;const n=Object.values(F).filter((t=>t.color!=e));for(let{captureDirs:r,maxMoveSteps:a,type:l}of n){const[e,o]=i;for(let[i,n]of r)for(let r=1;r<=a;r++){const a=[e-r*i,o-r*n];if(!t.has(a))break;if(!t.emptyAt(a)){if(t.colorAt(a)!=s||t.typeAt(a)!=l)break;return!0}}}return!1}function D(t,e){const{position:s}=t;return s.state.map(((t,e)=>t.map(((t,s)=>[e,s])))).flat().filter((t=>s.colorAt(t)==e)).map((e=>K(t,e))).flat()}function N(t){return 0==t?1:0}function W(t,e){const[s,i]=t,[o,n]=e;return s==o&&i==n}class q{constructor(t,s){o(this,"spritePosition"),a(this,e,void 0),l(this,e,t),this.spritePosition=s}get data(){return r(this,e)}isDraw(){return this.isThreeFoldRepetition()||this.isFiftyMoveDraw()}isWin(t){const e=N(t);return function(t,e){return R(t.position,e)&&!D(t,e).length}(this.data,e)||!this.data.position.indexOfKing(e)}isThreeFoldRepetition(){return!1}isFiftyMoveDraw(){return r(this,e).halfMoves>=50}isStalemate(){return t=this.data,e=this.data.activeColor,!R(t.position,e)&&!D(t,e).length;var t,e}switchTurn(){r(this,e).halfMoves++,r(this,e).fullMoves+=r(this,e).activeColor%2,r(this,e).activeColor=N(r(this,e).activeColor),r(this,e).enPassants=[]}promote(t,s){r(this,e).position.setAt(t,s),this.spritePosition.promote(t,s)}capture(t,s){console.log("standard capture"),this.switchTurn(),r(this,e).halfMoves=0,r(this,e).position.capture(t,s),this.spritePosition.capture(t,s)}moveStandard(t,e){console.log("standard move"),this.switchTurn(),this.movePiece(t,e)}moveDouble(t,s){console.log("pawn double move"),this.switchTurn(),this.movePiece(t,s);const[i,o]=t,n=s[0];r(this,e).enPassants.push([(i+n)/2,o]),console.table(r(this,e).enPassants)}castleKingside(t){console.log("castle kingside"),this.switchTurn(),r(this,e).canCastle[t]={kingside:!1,queenside:!1},r(this,e).position.castleKingside(t),this.spritePosition.castleKingside(t)}castleQueenside(t){console.log("castle queenside"),this.switchTurn(),r(this,e).canCastle[t]={kingside:!1,queenside:!1},r(this,e).position.castleQueenside(t),this.spritePosition.castleQueenside(t)}enPassant(t,s){console.log("en passant!!!!"),this.switchTurn(),r(this,e).position.enPassant(t,s),this.spritePosition.enPassant(t,s)}movePiece(t,s){const{position:i}=r(this,e);if(!i.at(t)||!i.emptyAt(s))return;let o,n;switch(i.typeAt(t)){case x.PAWN:r(this,e).halfMoves=0;break;case x.KING:r(this,e).canCastle[i.colorAt(t)]={kingside:!1,queenside:!1};break;case x.ROOK:[o,n]=r(this,e).canCastle,W(t,[0,0])&&n.queenside?n.queenside=!1:W(t,[0,7])&&n.kingside?n.kingside=!1:W(t,[7,0])&&o.queenside?o.queenside=!1:W(t,[7,7])&&o.kingside&&(o.kingside=!1)}i.move(t,s),this.spritePosition.move(t,s)}}e=new WeakMap;class E extends c.GameObjects.Sprite{constructor(t,e,s,i){const[n,r]=i,{x:a,y:l}=t.chessboardMap.tileToWorldXY(r,n);super(t,a,l,h,e[s]),o(this,"pos"),o(this,"tilemap"),o(this,"particleEmitter"),this.pos=i,this.setOrigin(0)}get game(){return this.scene}move(t){this.pos=t;const[e,s]=t,{x:i,y:o}=this.game.chessboardMap.tileToWorldXY(s,e);this.game.tweens.add({targets:this,x:i,y:o,ease:"quad.in",duration:100}).on("complete",(()=>{this.setPosition(i,o)}))}explode(){const[t,e]=this.pos,{x:s,y:i}=this.game.chessboardMap.tileToWorldXY(e,t);this.game.tweens.add({targets:this,x:s,y:i,ease:"quad.in",duration:100}).on("complete",(()=>{const{explosionParticles:t,cameras:e,explosionSound:o}=this.game;t.explode(50,this.x,this.y),e.main.shake(500,.005),o.play(),this.setPosition(s,i),this.destroy()}))}}class Q extends E{constructor(t,e,s){super(t,[4,5],s,e)}}class G extends E{constructor(t,e,s){super(t,[0,1],s,e)}}class I extends E{constructor(t,e,s){super(t,[6,7],s,e)}}class B extends E{constructor(t,e,s){super(t,[10,11],s,e)}}class H extends E{constructor(t,e,s){super(t,[2,3],s,e)}}class X extends E{constructor(t,e,s){super(t,[8,9],s,e)}}class Y{constructor(t,e){a(this,s,void 0),o(this,"scene"),o(this,"container"),this.container=t.add.container(0,0),l(this,s,e.map(((e,s)=>e.map(((e,i)=>{const o=U(t,e,[s,i]);return o&&this.container.add(o),o}))))),this.scene=t}get state(){return r(this,s).map((t=>t.slice()))}at([t,e]){var i,o;return null==(o=null==(i=r(this,s))?void 0:i[t])?void 0:o[e]}setAt([t,e],i){r(this,s)[t][e]=i}promote(t,e){var s;null==(s=this.at(t))||s.destroy();const i=U(this.scene,e,t);this.container.add(i),this.setAt(t,i)}capture(t,e){var s;this.explode(e),null==(s=this.at(t))||s.move(e),this.explode(t),this.explodeArea(e)}castleKingside(t){const e=[7,0][t];this.move([e,4],[e,6]),this.move([e,7],[e,5])}castleQueenside(t){const e=[7,0][t];this.move([e,4],[e,2]),this.move([e,0],[e,3])}enPassant(t,e){const s=t[0],i=e[1];this.explode([s,i]),this.explode(t),this.explodeArea(e)}move(t,e){const s=this.at(t);null==s||s.move(e),this.setAt(e,s),this.setAt(t,null)}explode(t){var e;null==(e=this.at(t))||e.explode(),this.setAt(t,null)}explodeArea([t,e]){for(let s=-1;s<=1;s++)for(let i=-1;i<=1;i++){const o=[t+s,e+i];!this.at(o)||this.at(o)instanceof B||this.explode(o)}}}function U(t,e,s){if(!e)return null;const i={K:G,Q:H,B:Q,N:I,R:X,P:B,k:G,q:H,b:Q,n:I,r:X,p:B},o=e.toUpperCase()==e?0:1;return t.add.existing(new i[e](t,s,o))}s=new WeakMap;class j extends c.Scene{constructor(){super("Game"),o(this,"camera"),o(this,"chessboardMap"),o(this,"selectedTile"),o(this,"pointerTileMarker"),o(this,"selectedTileMarker"),o(this,"moveMarkers"),o(this,"chess"),o(this,"fromTile"),o(this,"debugText"),o(this,"explosionSound"),o(this,"explosionParticles"),o(this,"promotionPos"),o(this,"promotionMenus"),o(this,"gameOverMenus"),o(this,"isGameOver")}get pointerPos(){return this.input.activePointer.positionToCamera(this.cameras.main)}get pointerTile(){const{x:t,y:e}=this.pointerPos;return this.chessboardMap.getTileAtWorldXY(t,e)}get pointerTileWorldPos(){const t=this.pointerTile;if(!t)return null;const{x:e,y:s}=t;return this.chessboardMap.tileToWorldXY(e,s)}create(){this.cameras.main.fadeIn(3e3,0,0,0),this.isGameOver=!1;const t=this.cameras.main,{centerX:e,centerY:s}=t;t.setScroll(-e,-s),this.explosionSound=this.sound.add(g),this.chessboardMap=function(t,e){const s=t.make.tilemap({data:[[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0]],tileWidth:e,tileHeight:e}),i=s.addTilesetImage(d),o=s.createLayer(0,i,0,0),{x:n,y:r}=o.getBottomRight();return o.setPosition(-.5*n,-.5*r),s}(this,Z);const i=[["r","n","b","q","k","b","n","r"],["p","p","p","p","p","p","p","p"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["P","P","P","P","P","P","P","P"],["R","N","B","Q","K","B","N","R"]],o=new Y(this,i);this.chess=new q({position:new M(i),activeColor:0,canCastle:[{kingside:!0,queenside:!0},{kingside:!0,queenside:!0}],enPassants:[],halfMoves:0,fullMoves:0},o),this.pointerTileMarker=L(this,Z,.1*Z,16777215,1),this.selectedTileMarker=L(this,Z,.1*Z,16777215,1),this.moveMarkers=i.map(((t,e)=>t.map(((t,s)=>function(t,e,s,i,o){const{x:n,y:r}=e.tileToWorldXY(i+.5,s+.5);return t.add.graphics().fillStyle(8421504,.5).fillCircle(n,r,o).setActive(!1).setVisible(!1)}(this,this.chessboardMap,e,s,.1*Z))))),this.promotionMenus=[z(this,0).setVisible(!1),z(this,1).setVisible(!1)],this.gameOverMenus={stalemate:$(this,"Stalemate",null).setVisible(!1),draw:$(this,"Draw",null).setVisible(!1),win:[$(this,"Winner:",this.add.image(0,0,h,0).setScale(2)).setVisible(!1),$(this,"Winner:",this.add.image(0,0,h,1).setScale(2)).setVisible(!1)]},this.explosionParticles=this.add.particles(0,0,m,{speed:{min:300,max:600},scale:{start:.6,end:0,random:!0},alpha:{start:1,end:0},lifespan:{min:300,max:600},emitting:!1}),this.setUpInput()}setUpInput(){this.input.on("pointermove",(()=>{if(!this.pointerTileMarker)return;const t=this.pointerTile;if(!t)return void(this.pointerTileMarker.visible=!1);const{x:e,y:s}=this.chessboardMap.tileToWorldXY(t.x,t.y);this.pointerTileMarker.visible=!0,this.pointerTileMarker.setPosition(e,s)})),this.input.on("pointerdown",(()=>{if(this.isGameOver)return;const t=()=>{this.hideMoveMarkers(),this.selectedTileMarker.visible=!1,this.selectedTile=null,this.fromTile=null},e=this.pointerTile;if(!e)return void t();const{x:s,y:i}=e,o=[i,s],{activeColor:n,position:r}=this.chess.data;if(r.colorAt(o)==n)return void(t=>{this.fromTile=t;const[e,s]=t,{x:i,y:o}=this.chessboardMap.tileToWorldXY(s,e);this.selectedTileMarker.setPosition(i,o),this.selectedTileMarker.visible=!0,this.showValidMoves(t)})(o);const a=this.fromTile;a&&(t(),this.tryMove(a,o)&&(this.isGameOver=this.tryGameOver(n)))}))}showValidMoves(t){this.hideMoveMarkers(),K(this.chess.data,t).forEach((([t,e])=>{const s=this.moveMarkers[t][e];this.children.bringToTop(s),s.visible=!0}))}hideMoveMarkers(){this.moveMarkers.flat().forEach((t=>t.visible=!1))}tryMove(t,e){const{data:s}=this.chess,{activeColor:i}=s,o=function(t,e,s){const{position:i,activeColor:o}=t,n=i.at(e);if(!n)return!1;const r=i.colorAt(e);if(r!=o)return!1;if(!(F[n]instanceof A))return!1;const a=s[0];return[0,7][r]==a}(s,t,e);if(function(t,e,s){if(!O(t,e))return!1;const i=V(t,e);return!!i&&i.getValidStandardMovesFrom(t,e).some((t=>W(t,s)))}(s,t,e)){const s=i;return this.chess.moveStandard(t,e),o&&(this.promotionPos=e,this.promotionMenus[s].visible=!0),!0}return function(t,e,s){if(!O(t,e))return!1;const i=V(t,e);return!!i&&i.getValidCapturesFrom(t,e).some((t=>W(t,s)))}(s,t,e)?(this.chess.capture(t,e),!0):function(t,e,s){if(!O(t,e))return!1;const i=V(t,e);return i instanceof A&&i.getValidDoubleMovesFrom(t,e).some((t=>W(t,s)))}(s,t,e)?(this.chess.moveDouble(t,e),!0):function(t,e,s){if(!O(t,e))return!1;const i=V(t,e);return i instanceof A&&i.getValidEnPassantsFrom(t,e).some((t=>W(t,s)))}(s,t,e)?(this.chess.enPassant(t,e),!0):function(t,e,s){if(!O(t,e))return!1;const i=V(t,e);return i instanceof w&&i.getValidKingsideCastlesFrom(t,e).some((t=>W(t,s)))}(s,t,e)?(this.chess.castleKingside(i),!0):!!function(t,e,s){if(!O(t,e))return!1;const i=V(t,e);return i instanceof w&&i.getValidQueensideCastleFrom(t,e).some((t=>W(t,s)))}(s,t,e)&&(this.chess.castleQueenside(i),!0)}tryGameOver(t){const{win:e,draw:s,stalemate:i}=this.gameOverMenus,o=t=>{t.visible=!0,t.alpha=0,this.tweens.add({targets:t,duration:1e3,delay:1e3,alpha:1,ease:"sine.in"})};return this.chess.isWin(t)?(console.log(`${t} won!`),o(e[t]),!0):this.chess.isDraw()?(console.log("Draw"),o(s),!0):!!this.chess.isStalemate()&&(console.log("Stalemate"),o(i),!0)}}function L(t,e,s,i,o){const n=t.add.graphics();return n.lineStyle(s,i,o),n.strokeRect(0,0,e,e),n.visible=!1,n}function z(t,e){const s=t.add.container(0,0);return s.add([t.add.graphics().fillStyle(0==e?0:16777215,1).fillRect(-64,-16,128,32),...[["Q","B","N","R"],["q","b","n","r"]][e].map(((i,o)=>t.add.image(32*(o-1.5),0,h,2+2*o+e).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{t.chess.promote(t.promotionPos,i),s.visible=!1}))))])}function $(t,e,s){const i=t.add.image(0,32,b).setScale(1).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{i.removeAllListeners(),t.cameras.main.fadeOut(1e3,0,0,0),t.time.addEvent({delay:1e3,callback:()=>t.scene.restart()})}));return t.add.container(0,0,[t.add.graphics().fillStyle(268435455,.75).fillRect(-64,-64,128,128),t.add.text(0,-32,e,{color:"black",fontFamily:"Pixelify Sans",fontSize:24}).setResolution(32).setOrigin(.5),s??t.add.graphics(),i])}class _ extends c.Scene{constructor(){super("Preloader")}init(){const{config:t}=this.game,e=Number(t.width),s=Number(t.height),i=.5*e,o=.5*s;this.add.rectangle(i,o,i,16).setStrokeStyle(2,16777215);const n=this.add.rectangle(i-.5*i,o,0,16,16777215);this.load.on("progress",(t=>n.width=i*t))}preload(){this.load.setPath("assets"),this.load.audio(g,v),this.load.image(d,p),this.load.image(m,f),this.load.image(b,P),this.load.spritesheet(h,u,{frameWidth:Z,frameHeight:Z})}create(){this.scene.start("Game")}}const J={type:Phaser.AUTO,width:256,height:192,parent:"game-container",backgroundColor:"#000000",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},pixelArt:!0,scene:[_,j]};new c.Game(J);const Z=16;
